const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BtnnL1Ec.js","./jsx-runtime-B1AhRb-V.js","./index-CV65Cz2T.js","./index-CMym2nmu.js","./ApiRef-DQ_p_ST9.js","./ref-8pKZtiZi.js","./CustomHomepageGrid-CIh9ZT9h.js","./index-BDlCPcVq.js","./index-V23z6GDy.js","./lodash-D2SO6J9k.js","./WebStorage-DWjvmso0.js","./index-DWA0-5lI.js","./interopRequireDefault-Y9pwbXtE.js","./createSvgIcon-B6km7FGr.js","./capitalize-52YtlJa-.js","./defaultTheme-WHYcXxGo.js","./withStyles-C_eMWQcb.js","./hoist-non-react-statics.cjs-DscmM33_.js","./createChainedFunction-Da-WpsAN.js","./createSvgIcon-BoOF83CO.js","./debounce-DtXjJkxj.js","./isMuiElement-DG475NJP.js","./ownerWindow-D1FXuRdm.js","./useIsFocusVisible-B2Dvw-Ws.js","./useControlled-ltvK4nzt.js","./unstable_useId-DsWtIzNz.js","./isSymbol-B6IIivl5.js","./appWrappers-BjEVlosn.js","./MockTranslationApi-D4c4nScZ.js","./classCallCheck-BNzALLS0.js","./inherits-CkEHJ8Ip.js","./toArray-CoXhHPie.js","./TranslationApi-AbvAvMM-.js","./ConfigApi-fH7dLXu8.js","./useAnalytics-y3ZaQqe-.js","./useAsync-cwiHyrW_.js","./useMountedState-BG_s6PIB.js","./componentData--aKu5_T4.js","./isObject-CDdS0vB1.js","./toString-C4GbLIMt.js","./ApiProvider-P-n6Z6bh.js","./ThemeProvider-UKwvVYMA.js","./CssBaseline-D5AXl3S9.js","./palettes-C1DVN5xY.js","./_baseSlice-z0Zd1-Ev.js","./_arrayReduce-B24CUDp3.js","./toNumber-bpgnJ3aS.js","./Add-CdC3cif9.js","./IconButton-C69Lr5le.js","./ButtonBase-ndPFvxP-.js","./TransitionGroupContext-C1n1zRT4.js","./Grid-DEL9PDyy.js","./Box-Y2gNioDL.js","./typography-0XlFLCN0.js","./Paper-Ra1TVF2W.js","./TextField-DGe9sU5n.js","./FormLabel-DHO9Aw1o.js","./formControlState-ByiNFc8I.js","./useFormControl-Cf2zJBza.js","./InputLabel-C1BQdAFz.js","./Select-DFMBvgC3.js","./react-is.production.min-D0tnNtx9.js","./useTheme-CyYT1vdA.js","./Popover-BgASJB6t.js","./Modal-Cy1ULzPm.js","./Portal-nleYRD7c.js","./Grow-PDDGETLu.js","./utils-vtCpIZas.js","./List-DulzYPgQ.js","./ListContext-DDd8B5Hf.js","./Typography-DFGLiOLt.js","./ListItem-hTEsGfU0.js","./ListItemIcon-DUgu-gxe.js","./ListItemText-C5lSDp-V.js","./Remove-B1VYgDPU.js","./useCopyToClipboard-Ct4IqI3l.js","./Button-MxgjmgAV.js","./Divider-BB45xwAD.js","./FormControlLabel-BObkJ45K.js","./Checkbox-35trh0wi.js","./SwitchBase-DdYX-FMn.js","./RadioGroup-CNAU5DjB.js","./MenuItem-Cr9VvAj4.js","./makeStyles-CkJZxfhX.js","./createStyles-Bp4GwXob.js","./createStyles-yD3y8ldD.js","./DialogTitle-B_5D8UVD.js","./Backdrop-B3l4JWfv.js","./Tooltip-IejhCGS-.js","./Popper-hSP61Xai.js","./ListItemAvatar-DSfOa5TD.js","./Edit-CawQ753W.js","./Cancel-BT7wit3L.js","./ContentHeader-xuKhEBux.js","./Helmet-BCx2os5_.js","./ErrorBoundary-BqSi9vYJ.js","./translation-CdQDl-HS.js","./ErrorPanel-CESVrcIi.js","./WarningPanel-iwC9uBEm.js","./ExpandMore-CkqGOjzY.js","./AccordionDetails-BJrt2wGE.js","./Collapse-BIGTY5B8.js","./MarkdownContent-nUxVYmV1.js","./CodeSnippet-Cv_Aqub3.js","./iframe-CgWBIHKh.js","./extends-CUPdUbmP.js","./toConsumableArray-BEwiObev.js","./CopyTextButton-C8jCdqVF.js","./LinkButton-DpM6xKb9.js","./Link-BYFNg5bx.js","./index-DSEhRz7_.js","./useElementFilter-BQWE7Esx.js","./CustomHomepageGrid-B9caxcv4.css","./Plugin-mpVNw5Cy.js","./useRouteRef-DZfF4Gng.js","./InfoCard-BEATQhUS.js","./CardActions-CvDPzJfz.js","./CardContent-DtgsA0yH.js","./CardHeader-BmYOKfJg.js","./BottomLink-DjY03Qty.js","./ArrowForward-D_j73tnF.js","./index-D9aJoqyD.js","./ComponentAccordion-Dkjc4xW0.js","./Tabs-C8UMOKCZ.js","./KeyboardArrowRight-Dch7uEGd.js","./index-NWCr7Ur6.js","./index-DYE8DoYR.js","./index-DZcKTYMi.js","./upperFirst-Ct_CXT4D.js","./index-6AG6PaX0.js","./index-BSDPezOM.js","./routes-Doxg9Phi.js","./EntityDisplayName-BAmCLWZ8.js","./FavoriteToggle-TFPCD33m.js","./icons-BSg2YRM4.js","./api-MB_AVTXQ.js","./StarredEntitiesApi-BdkYEsOx.js","./Progress-BoQIH1JK.js","./LinearProgress-1KW9yan_.js","./ResponseErrorPanel-BpwHwYCO.js","./index-59rngIye.js","./HeaderLabel-DG3q66D3.js","./TopVisited-D1dXRz87.js","./index-DjRxViQC.js","./Chip-CtrIo01I.js","./clsx.m-CH7BE6MN.js","./RecentlyVisited-6AewSG3y.js","./index-CNczaU8L.js","./EmptyState-CXw374mQ.js","./index-CO9RziYr.js"])))=>i.map(i=>d[i]);
var I=Object.defineProperty;var D=(i,e,o)=>e in i?I(i,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[e]=o;var _=(i,e,o)=>D(i,typeof e!="symbol"?e+"":e,o);import{_ as c}from"./iframe-CgWBIHKh.js";import{a as S,b as j}from"./appWrappers-BjEVlosn.js";import{a as L,c as P,b as k,d}from"./Plugin-mpVNw5Cy.js";import{c as O}from"./ApiRef-DQ_p_ST9.js";import{j as s}from"./jsx-runtime-B1AhRb-V.js";import{a as V,r as v}from"./index-CV65Cz2T.js";import{i as w}from"./interopRequireDefault-Y9pwbXtE.js";import{r as H,i as z}from"./createSvgIcon-B6km7FGr.js";import{I as K}from"./IconButton-C69Lr5le.js";import{I as $}from"./InfoCard-BEATQhUS.js";import{D as F,a as M,b as B,c as N}from"./DialogTitle-B_5D8UVD.js";import{B as W}from"./Button-MxgjmgAV.js";import{b as J}from"./index-CMym2nmu.js";import{s as Q}from"./WebStorage-DWjvmso0.js";import{i as U}from"./MockTranslationApi-D4c4nScZ.js";const R=i=>{const{open:e,close:o,componentName:t,children:n}=i;return s.jsxs(F,{open:e,onClose:()=>o(),children:[s.jsx(M,{children:t?`Settings - ${t}`:"Settings"}),s.jsx(B,{children:n}),s.jsx(N,{children:s.jsx(W,{onClick:()=>o(),color:"primary",variant:"contained",children:"Close"})})]})};R.__docgenInfo={description:"@public",methods:[],displayName:"SettingsModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},close:{required:!0,tsType:{name:"Function"},description:""},componentName:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"JSX.Element"},description:""}}};var h={},X=w,Y=z;Object.defineProperty(h,"__esModule",{value:!0});var C=h.default=void 0,G=Y(V()),Z=X(H()),q=(0,Z.default)(G.createElement("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");C=h.default=q;function l(i){const{title:e,components:o,name:t,description:n,layout:r,settings:a}=i,m=(a==null?void 0:a.schema)!==void 0;return L({name:t,data:{title:e,description:n,"home.widget.config":{layout:r,settings:a}},component:{lazy:()=>o().then(u=>g=>s.jsx(ee,{...g,...u,title:g.title||e,isCustomizable:m}))}})}function ee(i){const{Renderer:e,Content:o,Settings:t,Actions:n,ContextProvider:r,isCustomizable:a,title:m,...u}=i,g=J(),{Progress:E}=g.getComponents(),[T,y]=v.useState(!1);if(e)return s.jsx(v.Suspense,{fallback:s.jsx(E,{}),children:s.jsx(e,{...m&&{title:m},Content:o,...n?{Actions:n}:{},...t&&!a?{Settings:t}:{},...r?{ContextProvider:r}:{},...u})});const b={divider:!!m,...m&&{title:m},...t&&!a?{action:s.jsx(K,{onClick:()=>y(!0),children:s.jsx(C,{children:"Settings"})})}:{},...n?{actions:s.jsx(n,{})}:{}},A=s.jsxs($,{...b,children:[t&&!a&&s.jsx(R,{open:T,componentName:m,close:()=>y(!1),children:s.jsx(t,{})}),s.jsx(o,{...u})]});return s.jsx(v.Suspense,{fallback:s.jsx(E,{}),children:r?s.jsx(r,{...u,children:A}):A})}const x=S({id:"home"}),te=8;class f{constructor(e){_(this,"limit");_(this,"storageApi");_(this,"storageKeyPrefix","@backstage/plugin-home:visits");_(this,"identityApi");this.limit=Math.abs(e.limit??100),this.storageApi=e.storageApi,this.identityApi=e.identityApi}static create(e){return new f(e)}async list(e){let o=[...await this.retrieveAll()];return((e==null?void 0:e.orderBy)??[]).reverse().forEach(t=>{t.direction==="asc"?o.sort((n,r)=>this.compare(t,n,r)):o.sort((n,r)=>this.compare(t,r,n))}),((e==null?void 0:e.filterBy)??[]).reverse().forEach(t=>{o=o.filter(n=>{const r=n[t.field];return t.operator===">"?r>t.value:t.operator===">="?r>=t.value:t.operator==="<"?r<t.value:t.operator==="<="?r<=t.value:t.operator==="=="?r===t.value:t.operator==="!="?r!==t.value:t.operator==="contains"?`${r}`.includes(`${t.value}`):!1})}),o.slice(0,(e==null?void 0:e.limit)??te)}async save(e){const o=[...await this.retrieveAll()],t={...e.visit,id:window.crypto.randomUUID(),hits:1,timestamp:Date.now()},n=o.findIndex(r=>r.pathname===t.pathname);return n>=0?(t.id=o[n].id,t.hits=o[n].hits+1,o[n]=t):o.push(t),o.sort((r,a)=>a.timestamp-r.timestamp),await this.persistAll(o.splice(0,this.limit)),t}async persistAll(e){const o=await this.getStorageKey();return this.storageApi.set(o,e)}async retrieveAll(){const e=await this.getStorageKey(),o=this.storageApi.snapshot(e);return(o==null?void 0:o.presence)!=="unknown"?(o==null?void 0:o.value)??[]:new Promise((t,n)=>{const r=this.storageApi.observe$(e).subscribe({next:a=>{const m=a.value??[];r.unsubscribe(),t(m)},error:a=>{r.unsubscribe(),n(a)}})})}async getStorageKey(){const{userEntityRef:e}=await this.identityApi.getBackstageIdentity();return`${this.storageKeyPrefix}:${e}`}compare(e,o,t){return typeof o[e.field]=="number"?o[e.field]-t[e.field]:`${o[e.field]}`.localeCompare(`${t[e.field]}`)}}const Ee=i=>["<","<=","==","!=",">",">=","contains"].includes(i),oe=O({id:"homepage.visits"}),p=P({id:"home",apis:[j({api:oe,deps:{storageApi:Q,identityApi:U},factory:({storageApi:i,identityApi:e})=>f.create({storageApi:i,identityApi:e})})],routes:{root:x}});p.provide(k({name:"HomepageCompositionRoot",component:()=>c(()=>import("./index-BtnnL1Ec.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120]),import.meta.url).then(i=>i.HomepageCompositionRoot),mountPoint:x}));p.provide(d({name:"ComponentAccordion",component:{lazy:()=>c(()=>import("./index-D9aJoqyD.js"),__vite__mapDeps([121,122,1,2,99,12,13,14,15,16,17,18,19,20,21,22,23,8,24,25,83,100,31,61,54,101,67,50,62,49,48,70,123,124,115,110,116,117,95,96,32,4,97,98,102,7,103,104,105,29,30,106,52,53,107,75,36,88,89,65,66,51,68,69,71,73,108,109,9,3,34,33,76,118,77,119,120,27,28,11,10,35,37,26,38,39,40,41,42,43,113,114,86,64,87]),import.meta.url).then(i=>i.ComponentAccordion)}}));p.provide(d({name:"ComponentTabs",component:{lazy:()=>c(()=>import("./index-D9aJoqyD.js"),__vite__mapDeps([121,122,1,2,99,12,13,14,15,16,17,18,19,20,21,22,23,8,24,25,83,100,31,61,54,101,67,50,62,49,48,70,123,124,115,110,116,117,95,96,32,4,97,98,102,7,103,104,105,29,30,106,52,53,107,75,36,88,89,65,66,51,68,69,71,73,108,109,9,3,34,33,76,118,77,119,120,27,28,11,10,35,37,26,38,39,40,41,42,43,113,114,86,64,87]),import.meta.url).then(i=>i.ComponentTabs)}}));p.provide(d({name:"ComponentTab",component:{lazy:()=>c(()=>import("./index-D9aJoqyD.js"),__vite__mapDeps([121,122,1,2,99,12,13,14,15,16,17,18,19,20,21,22,23,8,24,25,83,100,31,61,54,101,67,50,62,49,48,70,123,124,115,110,116,117,95,96,32,4,97,98,102,7,103,104,105,29,30,106,52,53,107,75,36,88,89,65,66,51,68,69,71,73,108,109,9,3,34,33,76,118,77,119,120,27,28,11,10,35,37,26,38,39,40,41,42,43,113,114,86,64,87]),import.meta.url).then(i=>i.ComponentTab)}}));p.provide(d({name:"WelcomeTitle",component:{lazy:()=>c(()=>import("./index-NWCr7Ur6.js"),__vite__mapDeps([125,1,2,35,36,88,15,8,14,16,17,23,25,24,62,89,18,65,66,67,50,70,4,28,11,29,30,31,32]),import.meta.url).then(i=>i.WelcomeTitle)}}));const ye=p.provide(d({name:"CompanyLogo",component:{lazy:()=>c(()=>import("./index-DYE8DoYR.js"),__vite__mapDeps([126,1,2,70,15,14,16,17,4,33]),import.meta.url).then(i=>i.CompanyLogo)}})),Ae=p.provide(l({name:"HomePageRandomJoke",title:"Random Joke",components:()=>c(()=>import("./index-DZcKTYMi.js"),__vite__mapDeps([127,1,2,76,15,14,16,17,49,8,23,22,50,70,128,44,39,26,56,57,21,58,81,80,24,48,19,18,25,78]),import.meta.url),description:"Shows a random joke about optional category",layout:{height:{minRows:4},width:{minColumns:3}},settings:{schema:{title:"Random Joke settings",type:"object",properties:{defaultCategory:{title:"Category",type:"string",enum:["any","programming","dad"],default:"any"}}}}})),Re=p.provide(l({name:"HomePageToolkit",title:"Toolkit",components:()=>c(()=>import("./index-6AG6PaX0.js"),__vite__mapDeps([129,1,2,83,15,68,14,16,17,69,72,73,70,109,110,9,8,3,4,12,13,18,19,20,21,22,23,24,25,34,33]),import.meta.url)})),Ce=p.provide(l({name:"HomePageStarredEntities",title:"Your Starred Entities",components:()=>c(()=>import("./index-BSDPezOM.js"),__vite__mapDeps([130,1,2,35,36,109,110,9,8,3,4,12,13,14,15,16,17,18,19,20,21,22,23,24,25,83,34,33,70,131,27,28,11,29,30,31,32,10,37,26,38,39,40,7,41,42,43,5,71,69,49,50,72,73,132,52,53,88,62,89,65,66,67,114,133,48,134,135,136,68,123,61,124,137,138,139,97,98,99,100,54,101,102,103,104,105,106,107,75,96,51,77]),import.meta.url)}));p.provide(d({name:"HeaderWorldClock",component:{lazy:()=>c(()=>import("./index-59rngIye.js"),__vite__mapDeps([140,1,2,141,83,15,51,14,16,17,70,109,110,9,8,3,4,12,13,18,19,20,21,22,23,24,25,34,33]),import.meta.url).then(i=>i.HeaderWorldClock)}}));p.provide(l({name:"HomePageTopVisited",title:"Top Visited",components:()=>c(()=>import("./TopVisited-D1dXRz87.js"),__vite__mapDeps([142,1,2,143,83,15,70,14,16,17,109,110,9,8,3,4,12,13,18,19,20,21,22,23,24,25,34,33,144,49,50,43,5,71,69,90,73,101,67,62,145,68,35,36,76,104,27,28,11,29,30,31,32,10,37,26,38,39,40,7,41,42,113,114,48,115,116,117,54,95,96,97,98,99,100,61,102,103,105,106,52,53,107,75,88,89,65,66,51,108,118,77,119,120,86,64,87]),import.meta.url)}));p.provide(l({name:"HomePageRecentlyVisited",title:"Recently Visited",components:()=>c(()=>import("./RecentlyVisited-6AewSG3y.js"),__vite__mapDeps([146,1,2,143,83,15,70,14,16,17,109,110,9,8,3,4,12,13,18,19,20,21,22,23,24,25,34,33,144,49,50,43,5,71,69,90,73,101,67,62,145,68,35,36,76,104,27,28,11,29,30,31,32,10,37,26,38,39,40,7,41,42,113,114,48,115,116,117,54,95,96,97,98,99,100,61,102,103,105,106,52,53,107,75,88,89,65,66,51,108,118,77,119,120,86,64,87]),import.meta.url)}));const xe=p.provide(l({name:"FeaturedDocsCard",title:"Featured Docs",components:()=>c(()=>import("./index-CNczaU8L.js"),__vite__mapDeps([147,1,2,35,36,83,15,135,4,97,98,12,13,14,16,17,18,19,20,21,22,23,8,24,25,99,100,31,61,54,101,67,50,62,49,48,70,102,7,103,104,105,29,30,106,52,53,107,75,96,32,88,89,65,66,51,68,69,71,73,137,138,109,110,9,3,34,33,132,27,28,11,10,37,26,38,39,40,41,42,43,5,148,108,76]),import.meta.url)})),Te=p.provide(l({name:"QuickStartCard",title:"Quick Start",components:()=>c(()=>import("./index-CO9RziYr.js"),__vite__mapDeps([149,1,2,83,15,64,8,22,18,23,29,16,17,65,52,53,109,110,9,3,4,12,13,14,19,20,21,24,25,34,33,70,51]),import.meta.url)}));export{xe as F,Ae as H,Te as Q,R as S,Ce as a,ye as b,Re as c,C as d,l as e,p as h,Ee as i,x as r,oe as v};
