import{j as a}from"./jsx-runtime-B1AhRb-V.js";import{a as E,G as k,b as x,c as M,O as P,M as S,d as j,f as D,i as C,o as I,g as L,e as F,h as G,j as z,C as N,L as B,A as q,E as H,k as K}from"./MockTranslationApi-D4c4nScZ.js";import{c as $}from"./ConfigApi-fH7dLXu8.js";import{e as U,t as Y}from"./TranslationApi-AbvAvMM-.js";import{d as V}from"./index-DrFu-skq.js";import{r as A,R as m}from"./index-CV65Cz2T.js";import{d as W}from"./Close-CfG8T0j8.js";import{u as J,c as X}from"./translation-CdQDl-HS.js";import{S as Q}from"./Snackbar-0uqoJ2HU.js";import{A as Z}from"./Alert-D4-hr65d.js";import{I as ee}from"./IconButton-C69Lr5le.js";import{T as te}from"./Typography-DFGLiOLt.js";import{u as re}from"./ApiRef-DQ_p_ST9.js";import{l as ae,d as ie}from"./themes-BkMJwrsV.js";import{T as oe}from"./ThemeProvider-UKwvVYMA.js";import{C as ne}from"./CssBaseline-D5AXl3S9.js";import{T as se}from"./TestApiProvider-Scz87eVI.js";import{C as le}from"./Content-CJQb4T5K.js";import"./index-DWA0-5lI.js";import"./defaultTheme-WHYcXxGo.js";import"./classCallCheck-BNzALLS0.js";import"./inherits-CkEHJ8Ip.js";import"./toArray-CoXhHPie.js";import"./interopRequireDefault-Y9pwbXtE.js";import"./createSvgIcon-B6km7FGr.js";import"./capitalize-52YtlJa-.js";import"./withStyles-C_eMWQcb.js";import"./hoist-non-react-statics.cjs-DscmM33_.js";import"./createChainedFunction-Da-WpsAN.js";import"./createSvgIcon-BoOF83CO.js";import"./debounce-DtXjJkxj.js";import"./isMuiElement-DG475NJP.js";import"./ownerWindow-D1FXuRdm.js";import"./useIsFocusVisible-B2Dvw-Ws.js";import"./index-V23z6GDy.js";import"./useControlled-ltvK4nzt.js";import"./unstable_useId-DsWtIzNz.js";import"./Paper-Ra1TVF2W.js";import"./Grow-PDDGETLu.js";import"./useTheme-CyYT1vdA.js";import"./utils-vtCpIZas.js";import"./TransitionGroupContext-C1n1zRT4.js";import"./clsx.m-CH7BE6MN.js";import"./Close-BnaIPh3J.js";import"./ButtonBase-ndPFvxP-.js";import"./palettes-C1DVN5xY.js";import"./ApiProvider-P-n6Z6bh.js";import"./index-BDlCPcVq.js";import"./index-DSEhRz7_.js";import"./makeStyles-CkJZxfhX.js";function b(e){const[t,o]=A.useState([]),l=re(E),{t:u}=J(X),{anchorOrigin:h={vertical:"top",horizontal:"center"},transientTimeoutMs:f}=e,p=f??5e3;A.useEffect(()=>{const n=l.alert$().subscribe(i=>o(s=>s.concat(i)));return()=>{n.unsubscribe()}},[l]);const[r]=t;if(A.useEffect(()=>{if(r&&r.display==="transient"){const n=setTimeout(()=>{o(i=>{const s=i.filter(O=>O!==r);return s.length===i.length?i:s})},p);return()=>clearTimeout(n)}},[r,p]),t.length===0)return null;const d=()=>{o(n=>n.filter(i=>i!==r))};return a.jsx(Q,{open:!0,anchorOrigin:h,children:a.jsx(Z,{action:a.jsx(ee,{color:"inherit",size:"small",onClick:d,"data-testid":"error-button-close",children:a.jsx(W,{})}),severity:r.severity,children:a.jsxs(te,{component:"span",children:[String(r.message),t.length>1&&a.jsx("em",{children:u("alertDisplay.message",{count:t.length-1})})]})})})}b.__docgenInfo={description:`Displays alerts from {@link @backstage/core-plugin-api#AlertApi}

@public
@remarks

Shown as SnackBar at the center top of the page by default. Configurable with props.

@param anchorOrigin - The \`vertical\` property will set the vertical orientation of where the AlertDisplay will be located
and the \`horizontal\` property will set the horizontal orientation of where the AlertDisplay will be located
@param transientTimeoutMs - Number of milliseconds a transient alert will stay open for. Default value is 5000

@example
Here's some examples:
\`\`\`
// This example shows the default usage, the SnackBar will show up at the top in the center and any transient messages will stay open for 5000ms
<AlertDisplay />

// With this example the SnackBar will show up in the bottom right hand corner and any transient messages will stay open for 2500ms
<AlertDisplay transientTimeoutMs={2500} anchorOrigin={{vertical: 'bottom', horizontal: 'right'}}/>

// If you want to just set the time a transientTimeoutMs, you can do that like this:
<AlertDisplay transientTimeoutMs={10000} />
\`\`\``,methods:[],displayName:"AlertDisplay",props:{anchorOrigin:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  vertical: 'top' | 'bottom';
  horizontal: 'left' | 'center' | 'right';
}`,signature:{properties:[{key:"vertical",value:{name:"union",raw:"'top' | 'bottom'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"}],required:!0}},{key:"horizontal",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!0}}]}},description:""},transientTimeoutMs:{required:!1,tsType:{name:"number"},description:""}}};const pe=new N({}),me=new B,y=new q,ce=new H(y,new K),ue={getUserId:()=>"guest",getProfile:()=>({email:"guest@example.com"}),getIdToken:()=>{},signOut:async()=>{}},c=new j,he=k.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:c}),fe=x.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:c}),de=M.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:c}),ge=P.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:c}),Ae=S.create(),Te=[[$,pe],[D,me],[E,y],[U,ce],[C,ue],[I,c],[L,he],[F,fe],[G,de],[z,ge],[Y,Ae]],{useParameter:Ee,addons:be,useEffect:xt,useMemo:ye,definePreview:Mt}=__STORYBOOK_MODULE_PREVIEW_API__,{deprecate:ve}=__STORYBOOK_MODULE_CLIENT_LOGGER__;var we=Object.defineProperty,v=(e,t)=>{for(var o in t)we(e,o,{get:t[o],enumerable:!0})},Re={};v(Re,{initialGlobals:()=>ke});var g="themes",_e=`storybook/${g}`,w="theme",T={},Oe={REGISTER_THEMES:`${_e}/REGISTER_THEMES`},ke={[w]:""},xe={};v(xe,{initializeThemeState:()=>_,pluckThemeFromContext:()=>R,useThemeParameters:()=>Me});function R({globals:e}){return e[w]||""}function Me(e){return ve(V`The useThemeParameters function is deprecated. Please access parameters via the context directly instead e.g.
    - const { themeOverride } = context.parameters.themes ?? {};
    `),e?e.parameters[g]??T:Ee(g,T)}function _(e,t){be.getChannel().emit(Oe.REGISTER_THEMES,{defaultTheme:t,themes:e})}var Pe=([e,t])=>t,Se=({Provider:e,GlobalStyles:t,defaultTheme:o,themes:l={}})=>{let u=Object.keys(l),h=o||u[0];return _(u,h),(f,p)=>{let{themeOverride:r}=p.parameters[g]??{},d=R(p),n=ye(()=>{let i=r||d||h,s=Object.entries(l);return s.length===1?Pe(s[0]):l[i]},[d,r]);return e?m.createElement(e,{theme:n},t&&m.createElement(t,null),f()):m.createElement(m.Fragment,null,t&&m.createElement(t,null),f())}};const Pt={parameters:{controls:{matchers:{color:/(background|color)$/i,date:/Date$/i}},darkMode:{current:"light"},layout:"fullscreen"},decorators:[Se({themes:{Light:ae,Dark:ie},defaultTheme:"Light",Provider:oe,GlobalStyles:ne}),e=>a.jsxs(se,{apis:Te,children:[a.jsx(b,{}),a.jsx(le,{children:a.jsx(e,{})})]})]},St={options:{storySort:{order:["Plugins","Layout","Navigation"]}}};export{Pt as default,St as parameters};
