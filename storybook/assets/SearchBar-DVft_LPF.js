import{j as r}from"./jsx-runtime-B1AhRb-V.js";import{d as D}from"./Search-CxJhTxYK.js";import{r as t}from"./index-CV65Cz2T.js";import{u as _}from"./useDebounce-9bFRwIhD.js";import{S as x,u as K}from"./SearchContext-bKSxcjoU.js";import{T as N}from"./TextField-DGe9sU5n.js";import{I as b}from"./InputAdornment-BbK4g5pp.js";import{I as z}from"./IconButton-C69Lr5le.js";import{B as V}from"./Button-MxgjmgAV.js";import{u as F}from"./ApiRef-DQ_p_ST9.js";import{b as L}from"./index-CMym2nmu.js";import{A as M}from"./useAnalytics-y3ZaQqe-.js";import{c as O}from"./ConfigApi-fH7dLXu8.js";import"./interopRequireDefault-Y9pwbXtE.js";import"./createSvgIcon-B6km7FGr.js";import"./capitalize-52YtlJa-.js";import"./defaultTheme-WHYcXxGo.js";import"./withStyles-C_eMWQcb.js";import"./hoist-non-react-statics.cjs-DscmM33_.js";import"./createChainedFunction-Da-WpsAN.js";import"./createSvgIcon-BoOF83CO.js";import"./debounce-DtXjJkxj.js";import"./isMuiElement-DG475NJP.js";import"./ownerWindow-D1FXuRdm.js";import"./useIsFocusVisible-B2Dvw-Ws.js";import"./index-V23z6GDy.js";import"./useControlled-ltvK4nzt.js";import"./unstable_useId-DsWtIzNz.js";import"./lodash-D2SO6J9k.js";import"./useAsync-cwiHyrW_.js";import"./useMountedState-BG_s6PIB.js";import"./api-DfJnPGQi.js";import"./FormLabel-DHO9Aw1o.js";import"./formControlState-ByiNFc8I.js";import"./useFormControl-Cf2zJBza.js";import"./InputLabel-C1BQdAFz.js";import"./Select-DFMBvgC3.js";import"./react-is.production.min-D0tnNtx9.js";import"./useTheme-CyYT1vdA.js";import"./Popover-BgASJB6t.js";import"./Modal-Cy1ULzPm.js";import"./classCallCheck-BNzALLS0.js";import"./Portal-nleYRD7c.js";import"./Paper-Ra1TVF2W.js";import"./Grow-PDDGETLu.js";import"./utils-vtCpIZas.js";import"./TransitionGroupContext-C1n1zRT4.js";import"./List-DulzYPgQ.js";import"./ListContext-DDd8B5Hf.js";import"./Typography-DFGLiOLt.js";import"./ButtonBase-ndPFvxP-.js";const y=t.forwardRef((l,d)=>{const{onChange:o,onKeyDown:n=()=>{},onClear:i=()=>{},onSubmit:s=()=>{},debounceTime:a=200,clearButton:h=!0,fullWidth:m=!0,value:f,label:g,placeholder:C,inputProps:S={},InputProps:v={},endAdornment:B,...A}=l,I=F(O),[p,c]=t.useState(""),u=t.useRef("");t.useEffect(()=>{c(e=>e===u.current?String(f):e)},[f,u]),_(()=>{u.current=p,o(p)},a,[p]);const j=t.useCallback(e=>{c(e.target.value)},[c]),P=t.useCallback(e=>{n&&n(e),s&&e.key==="Enter"&&s()},[n,s]),T=t.useCallback(()=>{u.current="",o(""),c(""),i&&i()},[o,i]),w=g?void 0:"Search",R=C??`Search in ${I.getOptionalString("app.title")||"Backstage"}`,k=L().getSystemIcon("search")||D,E=r.jsx(b,{position:"start",children:r.jsx(z,{"aria-label":"Query",size:"small",disabled:!0,children:r.jsx(k,{})})}),q=r.jsx(b,{position:"end",children:r.jsx(V,{"aria-label":"Clear",size:"small",onClick:T,onKeyDown:e=>{e.key==="Enter"&&e.stopPropagation()},children:"Clear"})});return r.jsx(x,{inheritParentContextIfAvailable:!0,children:r.jsx(N,{id:"search-bar-text-field","data-testid":"search-bar-next",variant:"outlined",margin:"normal",inputRef:d,value:p,label:g,placeholder:R,InputProps:{startAdornment:E,endAdornment:h?q:B,...v},inputProps:{"aria-label":w,...S},fullWidth:m,onChange:j,onKeyDown:P,...A})})}),Q=t.forwardRef((l,d)=>{const{value:o="",onChange:n,...i}=l,{term:s,setTerm:a}=K();t.useEffect(()=>{o&&a(String(o))},[o,a]);const h=t.useCallback(m=>{n?n(m):a(m)},[n,a]);return r.jsx(x,{inheritParentContextIfAvailable:!0,children:r.jsx(M,{attributes:{pluginId:"search",extension:"SearchBar"},children:r.jsx(y,{...i,ref:d,value:s,onChange:h})})})});y.__docgenInfo={description:`All search boxes exported by the search plugin are based on the <SearchBarBase />,
and this one is based on the <InputBase /> component from Material UI.
Recommended if you don't use Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBarBase",props:{debounceTime:{required:!1,tsType:{name:"number"},description:""},clearButton:{required:!1,tsType:{name:"boolean"},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},endAdornment:{required:!1,tsType:{name:"ReactNode"},description:""}}};Q.__docgenInfo={description:`Recommended search bar when you use the Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBar"};export{Q as SearchBar,y as SearchBarBase};
