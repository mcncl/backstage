/*! For license information please see ddd2baaf.8584a5c3.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[551451],{468185:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>c,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var o=n(474848),a=n(28453);const i={},s="Glossary",r={id:"golden-path/deployment/meta",title:"meta",description:"- Page: A single md file.",source:"@site/versioned_docs/version-stable/golden-path/deployment/meta.md",sourceDirName:"golden-path/deployment",slug:"/golden-path/deployment/meta",permalink:"/docs/golden-path/deployment/meta",draft:!1,unlisted:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/golden-path/deployment/meta.md",tags:[],version:"stable",frontMatter:{}},d={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Deploying Backstage",id:"deploying-backstage",level:2},{value:"Docker",id:"docker",level:2},{value:"What&#39;s in the docker image?",id:"whats-in-the-docker-image",level:3},{value:"Running in CI",id:"running-in-ci",level:3},{value:"Pre-deploy dependencies",id:"pre-deploy-dependencies",level:2},{value:"Database",id:"database",level:3},{value:"Authentication",id:"authentication",level:3},{value:"Deployment Guides",id:"deployment-guides",level:2},{value:"ECS",id:"ecs",level:3},{value:"K8s",id:"k8s",level:3},{value:"Other",id:"other",level:3},{value:"Config-first Development",id:"config-first-development",level:2},{value:"Monitoring",id:"monitoring",level:2},{value:"OpenTelemetry",id:"opentelemetry",level:3},{value:"Frontend Analytics",id:"frontend-analytics",level:3},{value:"How to handle scale as usage grows",id:"how-to-handle-scale-as-usage-grows",level:2},{value:"Separate frontend and backend",id:"separate-frontend-and-backend",level:3}];function h(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"glossary",children:"Glossary"})}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Page: A single ",(0,o.jsx)(t.code,{children:"md"})," file."]}),"\n",(0,o.jsx)(t.li,{children:"Guide: A number of pages grouped under the same folder."}),"\n"]}),"\n",(0,o.jsx)(t.h1,{id:"overall-writing-guidelines",children:"Overall Writing Guidelines"}),"\n",(0,o.jsx)(t.p,{children:"The goal of these docs is to provide a comprehensive set of guides that developers + admins can use to quickly get a Backstage instance into production and can refer to over time as their instance gain maturity."}),"\n",(0,o.jsx)(t.p,{children:"A user that finishes all of these guides will feel comfortable running a Backstage deployment in production. That will include building the Docker image, monitoring the deployment, and keeping Backstage updated."}),"\n",(0,o.jsx)(t.p,{children:'At the same time, not all users will finish the docs or they may come back to them as required. Individual guides should have strong "abstracts" (what will I learn by reading this guide), table of contents, and "next steps" (what do I need to do next) to guide users to read the most important pieces for their work.'}),"\n",(0,o.jsx)(t.p,{children:"When writing guide pages, keep it light! These should be instructional docs, and at the same time conversational and a joy to read. Guides should build on each other, when reading through a progression, the reader should feel more comfortable and confident with concepts as they pop up across progression levels. Guides should be standalone but can link across."}),"\n",(0,o.jsx)(t.h1,{id:"sections",children:"Sections"}),"\n",(0,o.jsx)(t.p,{children:"Users are expected to already have created a Backstage application, but we have no expectations that they've customized anything."}),"\n",(0,o.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(t.p,{children:["The user should already have created a Backstage application (",(0,o.jsx)(t.code,{children:"create-app"}),") and pushed their code to an origin in a source control management system (Github, Gitlab, etc). They should have a handle on how their company builds and deploys code."]}),"\n",(0,o.jsx)(t.h2,{id:"deploying-backstage",children:"Deploying Backstage"}),"\n",(0,o.jsx)(t.p,{children:"Backstage should be deployed in the same way as other software at your company. Show common examples that may be useful when deploying Backstage for the first time, or for those without established deployment practices."}),"\n",(0,o.jsx)(t.h2,{id:"docker",children:"Docker"}),"\n",(0,o.jsx)(t.h3,{id:"whats-in-the-docker-image",children:"What's in the docker image?"}),"\n",(0,o.jsx)(t.p,{children:"Talk through the build process for the backend image and how we layer both the frontend and backend into the image."}),"\n",(0,o.jsx)(t.h3,{id:"running-in-ci",children:"Running in CI"}),"\n",(0,o.jsx)(t.p,{children:"While you can run this build locally, we generally expect that you will run this as part of your CI build. Show the command that is needed and some context on what it does."}),"\n",(0,o.jsx)(t.h2,{id:"pre-deploy-dependencies",children:"Pre-deploy dependencies"}),"\n",(0,o.jsx)(t.h3,{id:"database",children:"Database"}),"\n",(0,o.jsx)(t.p,{children:"SQLite is the default database for Backstage development, it's a fast in-memory database that can handle the day-to-day needs of developers. It doesn't work well for production use cases though - you generally want a dedicated database."}),"\n",(0,o.jsx)(t.p,{children:"Use this section to walk through database options, talk through why Postgres is generally the best option and what config is needed to connect to common providers."}),"\n",(0,o.jsx)(t.h3,{id:"authentication",children:"Authentication"}),"\n",(0,o.jsxs)(t.p,{children:["By default, Backstage lets users login through a guest user. While that's a good fit for a solid developer experience locally, it can open up security holes when it's deployed to production. For that reason, you should configure a different authentication provider. See the docs at ",(0,o.jsx)(t.code,{children:"auth/*"}),". A solid choice is Github authentication - your target audience with a developer portal should already have access to Github."]}),"\n",(0,o.jsx)(t.h2,{id:"deployment-guides",children:"Deployment Guides"}),"\n",(0,o.jsx)(t.h3,{id:"ecs",children:"ECS"}),"\n",(0,o.jsx)(t.h3,{id:"k8s",children:"K8s"}),"\n",(0,o.jsx)(t.h3,{id:"other",children:"Other"}),"\n",(0,o.jsxs)(t.p,{children:["See ",(0,o.jsx)(t.code,{children:"contrib/"})," section in the repo."]}),"\n",(0,o.jsx)(t.h2,{id:"config-first-development",children:"Config-first Development"}),"\n",(0,o.jsx)(t.p,{children:"Making configuration the primary way to impact application behavior simplifies the deploy process and makes managing your Backstage instance much easier."}),"\n",(0,o.jsx)(t.h2,{id:"monitoring",children:"Monitoring"}),"\n",(0,o.jsx)(t.h3,{id:"opentelemetry",children:"OpenTelemetry"}),"\n",(0,o.jsx)(t.p,{children:"Backstage provides a set of OpenTelemetry metrics by default. This guide will walk you through how to set those up, what to monitor for, and what good alarms look like."}),"\n",(0,o.jsx)(t.h3,{id:"frontend-analytics",children:"Frontend Analytics"}),"\n",(0,o.jsx)(t.p,{children:"Backstage also provides a frontend analytics API that can integrate with various vendors like Google Analytics for tracking user behavior on the frontend."}),"\n",(0,o.jsx)(t.p,{children:"For frontend error reporting, you should consider integrating with something like CloudWatch RUM, Sentry or Cloudflare RUM."}),"\n",(0,o.jsx)(t.h2,{id:"how-to-handle-scale-as-usage-grows",children:"How to handle scale as usage grows"}),"\n",(0,o.jsx)(t.p,{children:"Talk about horizontal scaling, either by just increasing pod count or targeting specific expensive plugins and moving those to their own deployments."}),"\n",(0,o.jsx)(t.h3,{id:"separate-frontend-and-backend",children:"Separate frontend and backend"}),"\n",(0,o.jsxs)(t.p,{children:["By default, the frontend is served from your deployment using the ",(0,o.jsx)(t.code,{children:"@backstage/plugin-app-backend"})," plugin. If you need to split out the frontend and deploy it to a CDN, this section would show you how to do that."]})]})}function c(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},221020:(e,t,n)=>{var o=n(296540),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,r=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var o,i={},l=null,h=null;for(o in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(h=t.ref),t)s.call(t,o)&&!d.hasOwnProperty(o)&&(i[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===i[o]&&(i[o]=t[o]);return{$$typeof:a,type:e,key:l,ref:h,props:i,_owner:r.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},474848:(e,t,n)=>{e.exports=n(221020)},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var o=n(296540);const a={},i=o.createContext(a);function s(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);