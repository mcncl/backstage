/*! For license information please see feac07bc.fe50b082.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[563594],{516566:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>c});var n=t(474848),a=t(28453);const i={id:"v1.32.0",title:"v1.32.0",description:"Backstage Release v1.32.0"},o=void 0,r={id:"releases/v1.32.0",title:"v1.32.0",description:"Backstage Release v1.32.0",source:"@site/../docs/releases/v1.32.0.md",sourceDirName:"releases",slug:"/releases/v1.32.0",permalink:"/docs/next/releases/v1.32.0",draft:!1,unlisted:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/releases/v1.32.0.md",tags:[],version:"current",frontMatter:{id:"v1.32.0",title:"v1.32.0",description:"Backstage Release v1.32.0"},sidebar:"releases",previous:{title:"v1.33.0",permalink:"/docs/next/releases/v1.33.0"},next:{title:"v1.31.0",permalink:"/docs/next/releases/v1.31.0"}},d={},c=[{value:"Highlights",id:"highlights",level:2},{value:"<strong>BREAKING</strong>: Auth improvements",id:"breaking-auth-improvements",level:3},{value:"<strong>BREAKING</strong>: CLI Changes",id:"breaking-cli-changes",level:3},{value:"<strong>BREAKING</strong>: New Frontend System Deprecation Removals",id:"breaking-new-frontend-system-deprecation-removals",level:3},{value:"Promoted New Backend System exports to default export",id:"promoted-new-backend-system-exports-to-default-export",level:3},{value:"Scaffolder UI Improvements",id:"scaffolder-ui-improvements",level:3},{value:"New Frontend System Updates",id:"new-frontend-system-updates",level:3},{value:"CLI Improvements",id:"cli-improvements",level:3},{value:"Updated API Extractor",id:"updated-api-extractor",level:3},{value:"The events service is now global by default",id:"the-events-service-is-now-global-by-default",level:3},{value:"New testing utilities",id:"new-testing-utilities",level:3},{value:"Security Fixes",id:"security-fixes",level:2},{value:"Upgrade path",id:"upgrade-path",level:2},{value:"Links and References",id:"links-and-references",level:2}];function l(e){const s={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:["These are the release notes for the v1.32.0 release of ",(0,n.jsx)(s.a,{href:"https://backstage.io/",children:"Backstage"}),"."]}),"\n",(0,n.jsx)(s.p,{children:"A huge thanks to the whole team of maintainers and contributors as well as the amazing Backstage Community for the hard work in getting this release developed and done."}),"\n",(0,n.jsx)(s.h2,{id:"highlights",children:"Highlights"}),"\n",(0,n.jsxs)(s.h3,{id:"breaking-auth-improvements",children:[(0,n.jsx)(s.strong,{children:"BREAKING"}),": Auth improvements"]}),"\n",(0,n.jsxs)(s.p,{children:["We have entirely removed the ",(0,n.jsx)(s.code,{children:"profileEmailMatchingUserEntityEmail"})," sign-in resolver as it was using an insecure fallback for resolving user identities. See ",(0,n.jsx)(s.a,{href:"https://backstage.io/docs/auth/identity-resolver#sign-in-without-users-in-the-catalog",children:"this article"})," for how to create a custom sign-in resolver if needed as a replacement."]}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"emailLocalPartMatchingUserEntityName"})," also now has an ",(0,n.jsx)(s.code,{children:"allowedDomains"})," option that makes it easier to set it up to safely only permit people from your own organization to authenticate. We recommend that you set that option in your installation, if you use this resolver."]}),"\n",(0,n.jsx)(s.p,{children:"Example:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-yaml",children:"auth:\n  providers:\n    github:\n      development:\n        ...\n        signIn:\n          resolvers:\n            - resolver: emailLocalPartMatchingUserEntityName\n              allowedDomains:\n                - acme.org\n"})}),"\n",(0,n.jsxs)(s.p,{children:["See also the full ",(0,n.jsx)(s.a,{href:"https://backstage.io/docs/auth/identity-resolver",children:"identity resolvers documentation"})," for more details."]}),"\n",(0,n.jsxs)(s.h3,{id:"breaking-cli-changes",children:[(0,n.jsx)(s.strong,{children:"BREAKING"}),": CLI Changes"]}),"\n",(0,n.jsx)(s.p,{children:"We\u2019ve been doing some cleanup and removed some deprecated commands, updated as follows:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"create"}),": Use ",(0,n.jsx)(s.code,{children:"backstage-cli new"})," instead"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"create-plugin"}),": Use ",(0,n.jsx)(s.code,{children:"backstage-cli new"})," instead"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"plugin:diff"}),": Use ",(0,n.jsx)(s.code,{children:"backstage-cli fix"})," instead"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"test"}),": Use ",(0,n.jsx)(s.code,{children:"backstage-cli repo test"})," or ",(0,n.jsx)(s.code,{children:"backstage-cli package test"})," instead"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"versions:check"}),": Use ",(0,n.jsx)(s.code,{children:"yarn dedupe"})," or ",(0,n.jsx)(s.code,{children:"npx yarn-deduplicate"})," instead"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"clean"}),": Use ",(0,n.jsx)(s.code,{children:"backstage-cli package clean"})," instead"]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["Jest configuration no longer merges from all parent ",(0,n.jsx)(s.code,{children:"package.json"})," ",(0,n.jsx)(s.code,{children:"jest"})," configurations. Instead it only merges from the package under test and the root monorepo ",(0,n.jsx)(s.code,{children:"jest"})," config."]}),"\n",(0,n.jsxs)(s.h3,{id:"breaking-new-frontend-system-deprecation-removals",children:[(0,n.jsx)(s.strong,{children:"BREAKING"}),": New Frontend System Deprecation Removals"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.em,{children:"This section only applies if you are an early adopter of the new frontend system which is in alpha."})}),"\n",(0,n.jsxs)(s.p,{children:["We\u2019ve removed the previously deprecated ",(0,n.jsx)(s.code,{children:"namespace"})," option from ",(0,n.jsx)(s.code,{children:"createExtension"})," and ",(0,n.jsx)(s.code,{children:"createExtensionBlueprint"})," methods, including ",(0,n.jsx)(s.code,{children:".make"})," and ",(0,n.jsx)(s.code,{children:".makeWithOverrides"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["We\u2019ve also removed the deprecated ",(0,n.jsx)(s.code,{children:"createExtensionOverrides"})," in favor of ",(0,n.jsx)(s.code,{children:"createFrontendModule"})," as well as removing ",(0,n.jsx)(s.code,{children:"BackstagePlugin"})," type in favor of ",(0,n.jsx)(s.code,{children:"FrontendPlugin"})," to align with the New Backend System."]}),"\n",(0,n.jsxs)(s.p,{children:["And lastly, ",(0,n.jsx)(s.code,{children:"createApp"})," should now be imported from ",(0,n.jsx)(s.code,{children:"@backstage/frontend-defaults"})," instead of previously deprecated ",(0,n.jsx)(s.code,{children:"@backstage/frontend-app-api"}),"."]}),"\n",(0,n.jsx)(s.h3,{id:"promoted-new-backend-system-exports-to-default-export",children:"Promoted New Backend System exports to default export"}),"\n",(0,n.jsxs)(s.p,{children:["Since the New Backend System was shipped as 1.0 in a previous release, our core plugins are now available from the regular default package export instead of the ",(0,n.jsx)(s.code,{children:"/alpha"})," subpath. The old alpha exports still work for a bit longer, but will be removed completely in an upcoming release."]}),"\n",(0,n.jsxs)(s.p,{children:["This means that in your ",(0,n.jsx)(s.code,{children:"packages/backend/src/index.ts"})," file, you can now change your imports as follows:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-diff",children:"-backend.add(import('@backstage/plugin-catalog-backend/alpha'));\n+backend.add(import('@backstage/plugin-catalog-backend'));\n"})}),"\n",(0,n.jsxs)(s.p,{children:["And similarly for other plugins. You\u2019ll find that many plugin modules however may still remain on the ",(0,n.jsx)(s.code,{children:"/alpha"})," export for a bit longer, while we settle their interfaces."]}),"\n",(0,n.jsxs)(s.p,{children:["We would also like to highlight that the ",(0,n.jsx)(s.code,{children:"@backstage/backend-common"})," and ",(0,n.jsx)(s.code,{children:"@backstage/backend-tasks"})," packages that were part of the old backend system are now fully deprecated and removed from our code repositories, and therefore no longer get published or updated. If you have not yet moved off of features in those packages, now would be a good time to look into doing so. The ",(0,n.jsx)(s.a,{href:"https://backstage.io/docs/backend-system/",children:"new backend system"})," section of the documentation contains lots of details and migration instructions."]}),"\n",(0,n.jsx)(s.h3,{id:"scaffolder-ui-improvements",children:"Scaffolder UI Improvements"}),"\n",(0,n.jsx)(s.p,{children:"This month we've been working on improving the user flow for creating templates with Scaffolder. You can now use the Template Editor to sketch templates from zero. We also updated the Template Editor layout for you to have quick access to the Custom Fields Explorer and installed Actions documentation while editing the template files."}),"\n",(0,n.jsx)(s.p,{children:"And last but not least, a Publish button was added to the editor, which opens a modal with instructions on how to start using a new template in production."}),"\n",(0,n.jsx)(s.p,{children:"We hope you like it, and please do not hesitate to give us feedback via our community channels!"}),"\n",(0,n.jsx)(s.h3,{id:"new-frontend-system-updates",children:"New Frontend System Updates"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.em,{children:"This section only applies if you are an early adopter of the new frontend system which is in alpha."})}),"\n",(0,n.jsxs)(s.p,{children:["It\u2019s now possible to override extensions that were created with Blueprints by passing through ",(0,n.jsx)(s.code,{children:"params"})," instead."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"const myExtension = MyBlueprint.make({\n  params: {\n    myParam: 'myDefault',\n  },\n});\n\nconst myOverride = myExtension.override({\n  params: {\n    myParam: 'myOverride',\n  },\n});\n"})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"app"})," plugin now provides three more default extensions which means you don\u2019t have to provide these in order to get up and running with the New Frontend System. It now provides default implementations for the ",(0,n.jsx)(s.code,{children:"scmAuthApiRef"})," as well as ",(0,n.jsx)(s.code,{children:"scmIntegrationsApiRef"}),", and also a default ",(0,n.jsx)(s.code,{children:"SignInPage"})," which is configured by default to login as Guest."]}),"\n",(0,n.jsxs)(s.p,{children:["You can override the default implementation by using ",(0,n.jsx)(s.code,{children:".withOverrides"})," on the ",(0,n.jsx)(s.code,{children:"app"})," plugin, or by providing another ",(0,n.jsx)(s.code,{children:"SignInPage"})," extension in a ",(0,n.jsx)(s.code,{children:"FrontendModule"})," for the ",(0,n.jsx)(s.code,{children:"app"})," plugin."]}),"\n",(0,n.jsx)(s.h3,{id:"cli-improvements",children:"CLI Improvements"}),"\n",(0,n.jsx)(s.p,{children:"We\u2019ve been working on adding some additional features to the CLI and improve performance when working in larger monorepos and setups with Backstage."}),"\n",(0,n.jsxs)(s.p,{children:["There\u2019s a new ",(0,n.jsx)(s.code,{children:"--successCache"})," option, for both ",(0,n.jsx)(s.code,{children:"backstage-cli repo lint"})," and ",(0,n.jsx)(s.code,{children:"backstage-cli repo test"})," which can help cache previous runs from other builds in CI to speed up these commands."]}),"\n",(0,n.jsxs)(s.p,{children:["Support for ",(0,n.jsx)(s.a,{href:"https://rspack.dev/",children:"rspack"})," has been added behind an ",(0,n.jsx)(s.code,{children:"EXPERIMENTAL_RSPACK"})," variable thanks to ",(0,n.jsx)(s.a,{href:"https://github.com/JounQin",children:"@JounQin"})," in ",(0,n.jsx)(s.a,{href:"https://github.com/backstage/backstage/pull/25953",children:"#25953"}),". Please go ahead and try this out, and report back with some findings!"]}),"\n",(0,n.jsxs)(s.p,{children:["For those of you who publish Backstage packages, you may also note that the CLI ",(0,n.jsx)(s.code,{children:"prepack"})," script now automatically adds information about your exported feature to published ",(0,n.jsx)(s.code,{children:"package.json"})," files. This will serve as a foundation for some cool features, such as dynamic discovery and loading of plugins! Contributed by ",(0,n.jsx)(s.a,{href:"https://github.com/HHogg",children:"@HHogg"})," in ",(0,n.jsx)(s.a,{href:"https://github.com/backstage/backstage/pull/26524",children:"#26524"}),"."]}),"\n",(0,n.jsx)(s.h3,{id:"updated-api-extractor",children:"Updated API Extractor"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsxs)(s.em,{children:["This section only applies if you are generating API reports using the ",(0,n.jsx)(s.code,{children:"@backstage/repo-tools"})," CLI."]})}),"\n",(0,n.jsxs)(s.p,{children:["The API Extractor dependency of ",(0,n.jsx)(s.code,{children:"@backstage/repo-tools"})," has been updated to the latest version. This changes the API report file name to use the ",(0,n.jsx)(s.code,{children:"report<entry>.api.md"})," format, for example ",(0,n.jsx)(s.code,{children:"report.api.md"})," or ",(0,n.jsx)(s.code,{children:"report-alpha.api.md"}),". This update adds a new ",(0,n.jsx)(s.code,{children:"ae-undocumented"})," warning, which you can disable using the ",(0,n.jsx)(s.code,{children:"-o ae-undocumented"})," option if needed."]}),"\n",(0,n.jsxs)(s.p,{children:["Contributed by ",(0,n.jsx)(s.a,{href:"https://github.com/secustor",children:"@secustor"})," in ",(0,n.jsx)(s.a,{href:"https://github.com/backstage/backstage/pull/25671",children:"#25671"}),"."]}),"\n",(0,n.jsx)(s.h3,{id:"the-events-service-is-now-global-by-default",children:"The events service is now global by default"}),"\n",(0,n.jsxs)(s.p,{children:["It used to be the case that backends using the ",(0,n.jsx)(s.code,{children:"events"})," service only had their events distributed to local observers on the same actual backend instance. This forced adopters to co-deploy plugins that needed to communicate with each other via this mechanism."]}),"\n",(0,n.jsxs)(s.p,{children:["This has now been improved, such that the ",(0,n.jsx)(s.code,{children:"@backstage/plugin-events-backend"})," (if deployed somewhere) automatically acts as an efficient intermediary bus for distribution across all of your backends when using ",(0,n.jsx)(s.a,{href:"https://backstage.io/docs/backend-system/building-backends/index/#split-into-multiple-backends",children:"split deployments"}),". Therefore, you may start to see events flowing between machines as well after this version update."]}),"\n",(0,n.jsx)(s.h3,{id:"new-testing-utilities",children:"New testing utilities"}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"@backstage/test-utils"})," and ",(0,n.jsx)(s.code,{children:"@backstage/frontend-test-utils"})," packages now contain a ",(0,n.jsx)(s.code,{children:"mockApis"})," export that lets you create fakes and mocks for many common utility APIs. This is analogous to the ",(0,n.jsx)(s.code,{children:"mockServices"})," that already existed in ",(0,n.jsx)(s.code,{children:"@backstage/backend-test-utils"}),". As this was introduced, the old ",(0,n.jsx)(s.code,{children:"Mock*Api"})," classes were marked as deprecated - please use ",(0,n.jsx)(s.code,{children:"mockApis.*"})," instead."]}),"\n",(0,n.jsxs)(s.p,{children:["Likewise, there\u2019s a ",(0,n.jsx)(s.code,{children:"catalogApiMock"})," in ",(0,n.jsx)(s.code,{children:"@backstage/plugin-catalog-react/testUtils"}),", and a ",(0,n.jsx)(s.code,{children:"catalogServiceMock"})," in ",(0,n.jsx)(s.code,{children:"@backstage/plugin-catalog-node/testUtils"}),", that help you easily test against a client that behaves just like a catalog with a fake set of entities."]}),"\n",(0,n.jsx)(s.p,{children:"You\u2019ll also start seeing that your API JSON responses are pretty-printed by default for convenience - but only in development of course."}),"\n",(0,n.jsxs)(s.p,{children:["Finally, improvements were made to the OpenAPI based test facilities. Now you can get simple schema validation immediately as part of your existing tests. See the PR for more details. Contributed by ",(0,n.jsx)(s.a,{href:"https://github.com/aramissennyeydd",children:"@aramissennyeydd"})," in ",(0,n.jsx)(s.a,{href:"https://github.com/backstage/backstage/pull/25538",children:"#25538"}),"."]}),"\n",(0,n.jsx)(s.h2,{id:"security-fixes",children:"Security Fixes"}),"\n",(0,n.jsx)(s.p,{children:"This release does not contain any security fixes."}),"\n",(0,n.jsx)(s.h2,{id:"upgrade-path",children:"Upgrade path"}),"\n",(0,n.jsxs)(s.p,{children:["We recommend that you keep your Backstage project up to date with this latest release. For more guidance on how to upgrade, check out the documentation for ",(0,n.jsx)(s.a,{href:"https://backstage.io/docs/getting-started/keeping-backstage-updated",children:"keeping Backstage updated"}),"."]}),"\n",(0,n.jsx)(s.h2,{id:"links-and-references",children:"Links and References"}),"\n",(0,n.jsx)(s.p,{children:"Below you can find a list of links and references to help you learn about and start using this new release."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://backstage.io/",children:"Backstage official website"}),", ",(0,n.jsx)(s.a,{href:"https://backstage.io/docs/",children:"documentation"}),", and ",(0,n.jsx)(s.a,{href:"https://backstage.io/docs/getting-started/",children:"getting started guide"})]}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://github.com/backstage/backstage",children:"GitHub repository"})}),"\n",(0,n.jsxs)(s.li,{children:["Backstage's ",(0,n.jsx)(s.a,{href:"https://backstage.io/docs/overview/versioning-policy",children:"versioning and support policy"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"https://discord.gg/backstage-687207715902193673",children:"Community Discord"})," for discussions and support"]}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://github.com/backstage/backstage/tree/master/docs/releases/v1.32.0-changelog.md",children:"Changelog"})}),"\n",(0,n.jsxs)(s.li,{children:["Backstage ",(0,n.jsx)(s.a,{href:"https://backstage.io/demos",children:"Demos"}),", ",(0,n.jsx)(s.a,{href:"https://backstage.io/blog",children:"Blog"}),", [Roadmap](",(0,n.jsx)(s.a,{href:"https://backstage.io",children:"https://backstage.io"}),"\n/docs/overview/roadmap) and ",(0,n.jsx)(s.a,{href:"https://backstage.io/plugins",children:"Plugins"})]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["Sign up for our ",(0,n.jsx)(s.a,{href:"https://info.backstage.spotify.com/newsletter_subscribe",children:"newsletter"})," if you want to be informed about what is happening in the world of Backstage."]})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},221020:(e,s,t)=>{var n=t(296540),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function c(e,s,t){var n,i={},c=null,l=null;for(n in void 0!==t&&(c=""+t),void 0!==s.key&&(c=""+s.key),void 0!==s.ref&&(l=s.ref),s)o.call(s,n)&&!d.hasOwnProperty(n)&&(i[n]=s[n]);if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===i[n]&&(i[n]=s[n]);return{$$typeof:a,type:e,key:c,ref:l,props:i,_owner:r.current}}s.Fragment=i,s.jsx=c,s.jsxs=c},474848:(e,s,t)=>{e.exports=t(221020)},28453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>r});var n=t(296540);const a={},i=n.createContext(a);function o(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);